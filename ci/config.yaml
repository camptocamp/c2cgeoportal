---
checks:
  black: False
  isort: False
  codespell: False
  required_workflows: False

audit:
  snyk:
    test_arguments:
      - --all-projects
      - --fail-on=upgradable
      - --severity-threshold=medium
    pip_install_arguments:
      - --use-deprecated=legacy-resolver
    files_no_install: []

publish:
  docker:
    images:
      - name: camptocamp/geomapfish
      - name: camptocamp/geomapfish-tools
        group: full
      - name: camptocamp/geomapfish-config
        group: full
      - name: camptocamp/geomapfish-geoportal
      # 2.4
      - name: camptocamp/geomapfish-qgisserver
        group: qgis-3.10
        tags:
          - gmf{version}-qgis3.10
      - name: camptocamp/geomapfish-qgisserver
        group: qgis-3.16
        tags:
          - gmf{version}-qgis3.16
      - name: camptocamp/geomapfish-qgisserver
        group: qgis-master
        tags:
          - gmf{version}-qgismaster
      # The group qgis-old is required for the clean workflow
      # 2.4, 2.5
      - name: camptocamp/geomapfish-qgisserver
        group: qgis-3.4
        tags:
          - gmf{version}-qgis3.4
      # 2.5
      - name: camptocamp/geomapfish-qgisserver
        group: qgis-3.12
        tags:
          - gmf{version}-qgis3.12
      # 2.5
      - name: camptocamp/geomapfish-qgisserver
        group: qgis-3.14
        tags:
          - gmf{version}-qgis3.14
  pypi:
    packages: []
  #      - path: commons
  #      - path: geoportal
  #      - path: admin

  snyk:
    files_no_install:
      - ci/requirements.txt
      - docker/qgisserver/requirements.txt
