<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ngeo &mdash; c2cgeoportal  documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="c2cgeoportal  documentation" href="../index.html" />
    <link rel="up" title="Developer Guide" href="index.html" />
    <link rel="next" title="Release notes" href="../releasenotes.html" />
    <link rel="prev" title="Documentation infrastructure" href="documentation_infrastructure.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="ngeo">
<span id="developer-ngeo"></span><h1>ngeo<a class="headerlink" href="#ngeo" title="Permalink to this headline">¶</a></h1>
<div class="section" id="integrate-demo-apps-in-c2cgeoportal-scaffold">
<h2>Integrate demo apps in c2cgeoportal scaffold<a class="headerlink" href="#integrate-demo-apps-in-c2cgeoportal-scaffold" title="Permalink to this headline">¶</a></h2>
<div class="section" id="copy-files">
<h3>Copy Files<a class="headerlink" href="#copy-files" title="Permalink to this headline">¶</a></h3>
<p>Copy the following files from ngeo:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">contribs/gmf/apps/mobile/index.html</span></code></li>
<li><code class="docutils literal"><span class="pre">contribs/gmf/apps/mobile/js/appmodule.js</span></code></li>
<li><code class="docutils literal"><span class="pre">contribs/gmf/apps/mobile/js/mobile.js</span></code></li>
</ul>
</div></blockquote>
<p>In the c2cgeoportal scaffold</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">c2cgeoportal/scaffolds/create/+package+/templates/mobile.html_tmpl</span></code></li>
<li><code class="docutils literal"><span class="pre">c2cgeoportal/scaffolds/create/+package+/static-ngeo/js/appmodule.js_tmpl</span></code></li>
<li><code class="docutils literal"><span class="pre">c2cgeoportal/scaffolds/create/+package+/static-ngeo/js/mobile.js_tmpl</span></code></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="some-replacements">
<h3>Some replacements<a class="headerlink" href="#some-replacements" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>app =&gt; {{package}}</li>
<li>nodes files path</li>
<li>direct service URL =&gt; pyramid <code class="docutils literal"><span class="pre">route_url</span></code></li>
</ul>
<p>In details:</p>
<div class="code diff highlight-python"><div class="highlight"><pre>c2cgeoportal/scaffolds/create/+package+/static-ngeo/js/appmodule.js
@@ -3,7 +3,7 @@
  * application&#39;s main namespace. And it defines the application&#39;s Angular
  * module.
  */
-goog.provide(&#39;app&#39;);
+goog.provide(&#39;{{package}}&#39;);

 goog.require(&#39;gmf&#39;);

@@ -11,4 +11,4 @@ goog.require(&#39;gmf&#39;);
 /**
  * @type {!angular.Module}
  */
-app.module = angular.module(&#39;app&#39;, [gmfModule.name]);
+{{package}}.module = angular.module(&#39;{{package}}&#39;, [gmfModule.name]);


c2cgeoportal/scaffolds/create/+package+/static-ngeo/js/mobile.js
@@ -7,10 +7,10 @@
  * This file includes `goog.require`&#39;s for all the components/directives used
  * by the HTML page and the controller to provide the configuration.
  */
-goog.provide(&#39;app.MobileController&#39;);
-goog.provide(&#39;app_mobile&#39;);
+goog.provide(&#39;{{package}}.MobileController&#39;);
+goog.provide(&#39;{{package}}_mobile&#39;);

-goog.require(&#39;app&#39;);
+goog.require(&#39;{{package}}&#39;);
 goog.require(&#39;gmf.mapDirective&#39;);
 goog.require(&#39;gmf.mobileNavDirective&#39;);
 goog.require(&#39;gmf.proj.EPSG21781&#39;);
@@ -33,7 +33,7 @@ goog.require(&#39;ol.source.OSM&#39;);
  * @ngInject
  * @export
  */
-app.MobileController = function(ngeoFeatureOverlayMgr, serverVars) {
+{{package}}.MobileController = function(ngeoFeatureOverlayMgr, serverVars) {

   /**
    * @type {Array.&lt;gmfx.SearchDirectiveDatasource&gt;}
@@ -88,7 +88,7 @@ app.MobileController = function(ngeoFeatureOverlayMgr, serverVars) {
 /**
  * @export
  */
-app.MobileController.prototype.toggleLeftNavVisibility = function() {
+{{package}}.MobileController.prototype.toggleLeftNavVisibility = function() {
   this.leftNavVisible = !this.leftNavVisible;
 };

@@ -96,7 +96,7 @@ app.MobileController.prototype.toggleLeftNavVisibility = function() {
 /**
  * @export
  */
-app.MobileController.prototype.toggleRightNavVisibility = function() {
+{{package}}.MobileController.prototype.toggleRightNavVisibility = function() {
   this.rightNavVisible = !this.rightNavVisible;
 };

@@ -105,7 +105,7 @@ app.MobileController.prototype.toggleRightNavVisibility = function() {
  * Hide both navigation menus.
  * @export
  */
-app.MobileController.prototype.hideNav = function() {
+{{package}}.MobileController.prototype.hideNav = function() {
   this.leftNavVisible = this.rightNavVisible = false;
 };

@@ -115,7 +115,7 @@ app.MobileController.prototype.hideNav = function() {
  * otherwise false.
  * @export
  */
-app.MobileController.prototype.navIsVisible = function() {
+{{package}}.MobileController.prototype.navIsVisible = function() {
   return this.leftNavVisible || this.rightNavVisible;
 };

@@ -125,7 +125,7 @@ app.MobileController.prototype.navIsVisible = function() {
  * otherwise false.
  * @export
  */
-app.MobileController.prototype.leftNavIsVisible = function() {
+{{package}}.MobileController.prototype.leftNavIsVisible = function() {
   return this.leftNavVisible;
 };

@@ -135,9 +135,9 @@ app.MobileController.prototype.leftNavIsVisible = function() {
  * otherwise false.
  * @export
  */
-app.MobileController.prototype.rightNavIsVisible = function() {
+{{package}}.MobileController.prototype.rightNavIsVisible = function() {
   return this.rightNavVisible;
 };


-app.module.controller(&#39;MobileController&#39;, app.MobileController);
+{{package}}.module.controller(&#39;MobileController&#39;, {{package}}.MobileController);


c2cgeoportal/scaffolds/create/+package+/templates/mobile.html_tmpl
@@ -1,5 +1,5 @@
 &lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;{{mobileCtrl.lang}}&quot; ng-app=&quot;app&quot; ng-controller=&quot;MobileController as mainCtrl&quot;&gt;
+&lt;html lang=&quot;\{\{mobileCtrl.lang\}\}&quot; ng-app=&quot;{{package}}&quot; ng-controller=&quot;MobileController as mainCtrl&quot;&gt;
   &lt;head&gt;
     &lt;title&gt;Mobile Application&lt;/title&gt;
     &lt;meta charset=&quot;utf-8&quot;&gt;
     &lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=1.0, user-scalable=no, width=device-width&quot;&gt;
     &lt;meta name=&quot;apple-mobile-web-app-capable&quot; content=&quot;yes&quot;&gt;
-    &lt;link rel=&quot;stylesheet&quot; href=&quot;../../build/mobile.css&quot; type=&quot;text/css&quot;&gt;
+% if debug:
+    &lt;link rel=&quot;stylesheet/less&quot; href=&quot;${request.static_url(&#39;{{package}}:static-ngeo/less/mobile.less&#39;)}&quot; type=&quot;text/css&quot;&gt;
+% else:
+    &lt;link rel=&quot;stylesheet&quot; href=&quot;${request.static_url(&#39;{{package}}:static-ngeo/build/mobile.css&#39;)}&quot; type=&quot;text/css&quot;&gt;
+% endif
     &lt;style&gt;
     #desc {
       display: none;
@@ -91,15 +91,19 @@
       &lt;/div&gt;
     &lt;/nav&gt;
     &lt;p id=&quot;desc&quot;&gt;This example is a mobile application based on ngeo and gmf components.&lt;/p&gt;
-    &lt;script src=&quot;../../../../node_modules/jquery/dist/jquery.js&quot;&gt;&lt;/script&gt;
-    &lt;script src=&quot;../../../../node_modules/angular/angular.js&quot;&gt;&lt;/script&gt;
-    &lt;script src=&quot;../../../../node_modules/typeahead.js/dist/typeahead.bundle.js&quot;&gt;&lt;/script&gt;
-    &lt;script src=&quot;http://cdnjs.cloudflare.com/ajax/libs/proj4js/2.2.1/proj4.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
-    &lt;script src=&quot;/@?main=mobile/js/mobile.js&quot;&gt;&lt;/script&gt;
-    &lt;script src=&quot;../../../../utils/watchwatchers.js&quot;&gt;&lt;/script&gt;
+% if debug:
+    &lt;script src=&quot;${request.static_url(&#39;%s/jquery/dist/jquery.js&#39; % node_modules_path)}&quot;&gt;&lt;/script&gt;
+    &lt;script src=&quot;${request.static_url(&#39;%s/angular/angular.js&#39; % node_modules_path)}&quot;&gt;&lt;/script&gt;
+    &lt;script src=&quot;${request.static_url(&#39;%s/angular-gettext/dist/angular-gettext.js&#39; % node_modules_path)}&quot;&gt;&lt;/script&gt;
+    &lt;script src=&quot;${request.static_url(&#39;%s/bootstrap/dist/js/bootstrap.js&#39; % node_modules_path)}&quot;&gt;&lt;/script&gt;
+    &lt;script src=&quot;${request.static_url(&#39;%s/proj4/dist/proj4-src.js&#39; % node_modules_path)}&quot;&gt;&lt;/script&gt;
+    &lt;script src=&quot;${request.static_url(&#39;%s/d3/d3.min.js&#39; % node_modules_path)}&quot;&gt;&lt;/script&gt;
+    &lt;script src=&quot;${request.static_url(&#39;%s/typeahead.js/dist/typeahead.bundle.js&#39; % node_modules_path)}&quot;&gt;&lt;/script&gt;
+    &lt;script src=&quot;${request.static_url(&#39;%s/closure/goog/base.js&#39; % closure_library_path)}&quot;&gt;&lt;/script&gt;
+    &lt;script src=&quot;${request.route_url(&#39;deps.js&#39;)}&quot;&gt;&lt;/script&gt;
+    &lt;script src=&quot;${request.static_url(&#39;{{package}}:static-ngeo/js/mobile.js&#39;)}&quot;&gt;&lt;/script&gt;
+    &lt;script src=&quot;${request.static_url(&#39;{{package}}:static-ngeo/build/templatecache.js&#39;)}&quot;&gt;&lt;/script&gt;
+    &lt;script src=&quot;${request.static_url(&#39;%s/utils/watchwatchers.js&#39; % closure_library_path)}&quot;&gt;&lt;/script&gt;
+    &lt;script src=&quot;${request.static_url(&#39;%s/less/dist/less.min.js&#39; % node_modules_path)}&quot;&gt;&lt;/script&gt;
+% else:
+    &lt;script src=&quot;${request.static_url(&#39;{{package}}:static-ngeo/js/mobile.js&#39;)}&quot;&gt;&lt;/script&gt;
+% endif
     &lt;script&gt;
       (function() {
-         var module = angular.module(&#39;app&#39;);
+         var module = angular.module(&#39;{{package}}&#39;);
          var serverVars = {
            serviceUrls: {
-             fulltextsearch: &#39;http://geomapfish-demo.camptocamp.net/2.0/wsgi/fulltextsearch?query=%QUERY&#39;
+             fulltextsearch: &#39;${request.route_url(&#39;fulltextsearch&#39;, _query={&#39;query&#39;:&#39;%QUERY&#39;}) | n}&#39;
            }
          };
          module.constant(&#39;serverVars&#39;, serverVars);
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/camptocamp.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">ngeo</a><ul>
<li><a class="reference internal" href="#integrate-demo-apps-in-c2cgeoportal-scaffold">Integrate demo apps in c2cgeoportal scaffold</a><ul>
<li><a class="reference internal" href="#copy-files">Copy Files</a></li>
<li><a class="reference internal" href="#some-replacements">Some replacements</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Developer Guide</a><ul>
      <li>Previous: <a href="documentation_infrastructure.html" title="previous chapter">Documentation infrastructure</a></li>
      <li>Next: <a href="../releasenotes.html" title="next chapter">Release notes</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/developer/ngeo.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2011-2014, Camptocamp.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.6</a>
      
      |
      <a href="../_sources/developer/ngeo.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/camptocamp/c2cgeoportal" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>