<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Requirements &#8212; c2cgeoportal  documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Create a new application" href="create_application.html" />
    <link rel="prev" title="Integrator Guide" href="index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="requirements">
<span id="integrator-requirements"></span><h1>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h1>
<p>To install a GeoMapFish application you need to have the following
components installed on your system:</p>
<ul class="simple">
<li><strong>Git</strong> (preferably to other revision control systems)</li>
<li><strong>Python</strong> 2.7 (2.5 or 3.x do not work, 2.6 should work but is not supported) with development files (<code class="docutils literal"><span class="pre">python-dev</span></code>)</li>
<li><strong>VirtualEnv</strong> &gt;= 1.7</li>
<li>Oracle <strong>Java</strong> SE Development Kit 6 or 7</li>
<li><strong>Tomcat</strong> &gt;= 6.0</li>
<li><strong>Apache</strong> &gt;= 2.2</li>
<li><strong>PostgreSQL</strong> &gt;= 9.1/<strong>PostGIS</strong> &gt;= 2.1, with library (<code class="docutils literal"><span class="pre">libpq-dev</span></code>)</li>
<li><strong>MapServer</strong> 7.0 or <strong>QGIS</strong>-mapserver 2.2 and upper</li>
<li><strong>MapCache</strong> &gt;= 1.0.0 with memcached support</li>
<li><strong>TinyOWS</strong> &gt;= 1.1.0</li>
<li><strong>ImageMagick</strong></li>
<li><strong>GCC</strong> GNU Compiler Collection &gt;= 4.6</li>
<li><strong>Deploy</strong> &gt;= 0.4</li>
<li><strong>libproj</strong> &gt;= 4.7</li>
<li><strong>gettext</strong> &gt;= 0.18</li>
</ul>
<div class="section" id="for-ngeo">
<h2>For ngeo<a class="headerlink" href="#for-ngeo" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>node</strong> &gt;= 0.10</li>
<li><strong>npm</strong> &gt;= 1.3</li>
</ul>
</div>
<div class="section" id="required-apache-modules">
<h2>Required Apache modules<a class="headerlink" href="#required-apache-modules" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">mod_expires</span></code></li>
<li><code class="docutils literal"><span class="pre">mod_headers</span></code></li>
<li><code class="docutils literal"><span class="pre">mod_proxy</span></code></li>
<li><code class="docutils literal"><span class="pre">mod_proxy_http</span></code></li>
<li><code class="docutils literal"><span class="pre">mod_rewrite</span></code></li>
<li><code class="docutils literal"><span class="pre">mod_wsgi</span></code></li>
<li><code class="docutils literal"><span class="pre">mod_mapcache</span></code></li>
</ul>
</div>
<div class="section" id="conflicting-apache-modules">
<h2>Conflicting Apache modules<a class="headerlink" href="#conflicting-apache-modules" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">mod_php*</span></code></li>
</ul>
</div>
<div class="section" id="print">
<h2>Print<a class="headerlink" href="#print" title="Permalink to this headline">¶</a></h2>
<p>The print requires a Tomcat server listening by default on port 8080.
To change it you should overwrite the <code class="docutils literal"><span class="pre">print_url</span></code> vars in <code class="docutils literal"><span class="pre">config.yaml.in</span></code>,
default is: <code class="docutils literal"><span class="pre">http://localhost:8080/print-c2cgeoportal-{instanceid}/pdf/</span></code>.</p>
<p>And by default the &#8216;webapps&#8217; folder is <code class="docutils literal"><span class="pre">/srv/tomcat/tomcat1/webapps</span></code>,
to change it set the <code class="docutils literal"><span class="pre">PRINT_OUTPUT</span></code> value in the makefile.</p>
<p>For MapFish Print to function properly it is recommended to increase the default
Java Heap Size for Tomcat (parameter <code class="docutils literal"><span class="pre">-Xmx</span></code> and <code class="docutils literal"><span class="pre">-Xms</span></code>). On servers managed
by Camptocamp check the size in the file <code class="docutils literal"><span class="pre">/srv/tomcat/tomcat1/bin/setenv-local.sh</span></code>:</p>
<blockquote>
<div><div class="code make highlight-default"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">JAVA_XMX</span><span class="o">=</span><span class="s2">&quot;1G&quot;</span>
<span class="n">export</span> <span class="n">ADD_JAVA_OPTS</span><span class="o">=</span><span class="s2">&quot;-Xms1G&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>The above settings set the minimum and maximum heap size to 1GB.</p>
</div>
<div class="section" id="additional-notes-for-windows-users">
<h2>Additional notes for Windows users<a class="headerlink" href="#additional-notes-for-windows-users" title="Permalink to this headline">¶</a></h2>
<p>GeoMapFish can be used under Windows, but you will need to install Cygwin
and some additional stuff for Python.</p>
<p>We assume that Python 2.7 is used.</p>
<p>Once Python is installed, you should add two folders to your <code class="docutils literal"><span class="pre">path</span></code> environment
variable:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">C:\path_to_python\Python27</span></code></li>
<li><code class="docutils literal"><span class="pre">C:\path_to_python\Python27\Scripts</span></code></li>
</ul>
<div class="section" id="python">
<h3>Python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Install Microsoft Visual C++ Compiler for Python 2.7 (<a class="reference external" href="http://aka.ms/vcpython27">http://aka.ms/vcpython27</a>)</li>
<li>Install pip, go to <a class="reference external" href="https://pip.pypa.io/en/latest/installing.html">https://pip.pypa.io/en/latest/installing.html</a> and download get-pip.py</li>
<li>Open a batch console (cmd), and run <code class="docutils literal"><span class="pre">python</span> <span class="pre">get-pip.py</span></code></li>
<li>Once done, run <code class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">virtualenv</span></code></li>
</ul>
</div>
<div class="section" id="cygwin">
<h3>Cygwin<a class="headerlink" href="#cygwin" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Go to <a class="reference external" href="https://cygwin.com/">https://cygwin.com/</a></li>
<li>In the download section, download the installer corresponding to your system</li>
<li>Run the downloaded installer</li>
<li>Choose an install folder not containing any space or weird characters (like parentheses)</li>
</ul>
<p>When installing Cygwin, please make sure to install the following non-default packages:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">make</span></code> from the <code class="docutils literal"><span class="pre">devel</span></code> folder</li>
<li><code class="docutils literal"><span class="pre">gettext-devel</span></code> from the <code class="docutils literal"><span class="pre">devel</span></code> folder</li>
<li><code class="docutils literal"><span class="pre">wget</span></code> from the <code class="docutils literal"><span class="pre">web</span></code> folder</li>
</ul>
<p>Cygwin should <em>always</em> be run in administrator mode. To configure that:</p>
<ul class="simple">
<li>Go to the Windows start menu</li>
<li>Right-click the Cygwin Terminal program icon</li>
<li>Open its properties</li>
<li>Under the <code class="docutils literal"><span class="pre">Compatibility</span></code> tab, check the <code class="docutils literal"><span class="pre">Run</span> <span class="pre">this</span> <span class="pre">program</span> <span class="pre">as</span> <span class="pre">an</span> <span class="pre">administrator</span></code></li>
</ul>
<p>To avoid file permission problems between Windows and Cygwin, edit Cygwin&#8217;s
<code class="docutils literal"><span class="pre">/etc/fstab</span></code> file to disable ACLs like this:</p>
<pre class="highlight"><style type="text/css">
span.prompt1:before {
  content: "$ ";
}
</style><span class="prompt1">none /cygdrive cygdrive binary,noacl,posix<span class="o">=</span><span class="m">0</span>,user <span class="m">0</span> <span class="m">0</span></span>
</pre></div>
<div class="section" id="configure-git">
<h3>Configure Git<a class="headerlink" href="#configure-git" title="Permalink to this headline">¶</a></h3>
<p>Cygwin comes with its own git package. It might be a really good idea to configure
Cygwin&#8217;s git for Windows. To do so:</p>
<ul class="simple">
<li>Open a Cygwin bash</li>
<li>Run <code class="docutils literal"><span class="pre">git</span> <span class="pre">config</span> <span class="pre">core.autocrlf</span> <span class="pre">true</span></code></li>
</ul>
</div>
<div class="section" id="id1">
<h3>Print<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>If using MapFish Print v3 (thus defining <code class="docutils literal"><span class="pre">PRINT_VERSION</span> <span class="pre">?=</span> <span class="pre">3</span></code> in your
makefile), then you should define the service name of your Tomcat server. In
your makefile, define the following variables:</p>
<pre class="highlight"><span class="prompt1"><span class="nv">PRINT_TMP</span> <span class="o">=</span> tmp</span>
<span class="prompt1"><span class="nv">TOMCAT_START_COMMAND</span> <span class="o">=</span> net START Tomcat7</span>
<span class="prompt1"><span class="nv">TOMCAT_STOP_COMMAND</span> <span class="o">=</span> net STOP Tomcat7</span>
</pre><p>The first line disables the tmp folder, which is not working on Windows.
The next two lines define the commands to start and stop your Tomcat service
(here it would be <code class="docutils literal"><span class="pre">Tomcat7</span></code>). On Windows, these commands differ from the one
used on Linux.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/camptocamp.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Requirements</a><ul>
<li><a class="reference internal" href="#for-ngeo">For ngeo</a></li>
<li><a class="reference internal" href="#required-apache-modules">Required Apache modules</a></li>
<li><a class="reference internal" href="#conflicting-apache-modules">Conflicting Apache modules</a></li>
<li><a class="reference internal" href="#print">Print</a></li>
<li><a class="reference internal" href="#additional-notes-for-windows-users">Additional notes for Windows users</a><ul>
<li><a class="reference internal" href="#python">Python</a></li>
<li><a class="reference internal" href="#cygwin">Cygwin</a></li>
<li><a class="reference internal" href="#configure-git">Configure Git</a></li>
<li><a class="reference internal" href="#id1">Print</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Integrator Guide</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Integrator Guide</a></li>
      <li>Next: <a href="create_application.html" title="next chapter">Create a new application</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/integrator/requirements.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2011-2016, Camptocamp.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../_sources/integrator/requirements.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/camptocamp/c2cgeoportal" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>