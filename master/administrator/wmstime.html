
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>WMSTime Layer &#8212; c2cgeoportal  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/c2c.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Integrator Guide" href="../integrator/index.html" />
    <link rel="prev" title="Transactional WFS with TinyOWS" href="tinyows.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="wmstime-layer">
<span id="integrator-wmstime"></span><h1>WMSTime Layer<a class="headerlink" href="#wmstime-layer" title="Permalink to this heading">¶</a></h1>
<p>c2cgeoportal supports <a class="reference external" href="https://mapserver.org/ogc/wms_time.html">WMS Time layers</a>.</p>
<p>When the time is enabled for a layer group (a layertree group, not a wms layer group), a time widge
(a slider or datepicker) is added to this group in the layer tree which enables changing the layer time.</p>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading">¶</a></h2>
<p>Most of the configuration is automatically extracted from the mapfile. But there
is also some configuration to do in the administration interface.</p>
<section id="mapfile">
<h3>Mapfile<a class="headerlink" href="#mapfile" title="Permalink to this heading">¶</a></h3>
<p>In the mapfile, a WMS Time layer is configured with the help of the layer metadata:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">wms_timeextent</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">wms_timeitem</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">wms_timedefault</span></code></p></li>
</ul>
<p>If the time layer is a wms layer group, the metadata are extracted from its children.</p>
<p>c2cgeoportal uses the <code class="docutils literal notranslate"><span class="pre">wms_timeextent</span></code> to configure the slider. Two different
formats are supported to define the time:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">min/max/interval</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">value1,value2,value3,...</span></code></p></li>
</ul>
<p>The format <code class="docutils literal notranslate"><span class="pre">min/max/interval</span></code> allows specifying a time range by giving a start
date, an end date and an interval between the time stops.</p>
<p>The format <code class="docutils literal notranslate"><span class="pre">value1,value2,value3,...</span></code> allows specifying a time range by listing discrete values.</p>
<p>The dates (<code class="docutils literal notranslate"><span class="pre">min</span></code>, <code class="docutils literal notranslate"><span class="pre">max</span></code> and <code class="docutils literal notranslate"><span class="pre">valueN</span></code>) can be specified using any of the following formats:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">YYYY</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">YYYY-MM</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">YYYY-MM-DD</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">YYYY-MM-DDTHH:MM:SSTZ</span></code> (TZ is an optional timezone, i.e. “Z” or “+0100”)</p></li>
</ul>
<p>The format used for the dates in the mapfile determines both the resolution used
for the slider and the format of the time parameter used for the GetMap
requests. For example, when a layer has monthly data, the <code class="docutils literal notranslate"><span class="pre">YYYY-MM</span></code> should be
used in the mapfile to make sure that only months and years are displayed in the
slider tip and passed to the GetMap request.</p>
<p>The interval (<code class="docutils literal notranslate"><span class="pre">interval</span></code>) has to be defined according to the
ISO 8601 standard and its duration/time intervals definition (see
<a class="reference external" href="https://en.wikipedia.org/wiki/ISO_8601#Durations">ISO 8601 Durations / Time intervals</a>).</p>
<p>Some examples for the interval definition:</p>
<ul class="simple">
<li><p>An interval of one year: <code class="docutils literal notranslate"><span class="pre">P1Y</span></code></p></li>
<li><p>An interval of six months: <code class="docutils literal notranslate"><span class="pre">P6M</span></code></p></li>
</ul>
<p>For more information, please refer to the <a class="reference external" href="https://mapserver.org/ogc/wms_time.html">MapServer documentation</a>.</p>
</section>
<section id="admin-interface-widget">
<h3>Admin interface - widget<a class="headerlink" href="#admin-interface-widget" title="Permalink to this heading">¶</a></h3>
<p>Most of the configuration is done in the mapfile as described in the above
section. However the time widget must be configured via the admin interface.
Two different widget types are available: a time slider and a datepicker
widget. The preferred widget can be selected in the admin interface (field <code class="docutils literal notranslate"><span class="pre">Time</span> <span class="pre">widget</span></code>).</p>
<p>Note that the time mode can be changed. The time mode is one of:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">value</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">range</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">disabled</span></code></p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">value</span></code> mode displays a widget to select a single time or date. For a
slider widget, a slider with a single thumb will be displayed. If datepicker is
selected as widget, a single datepicker will be shown to select a single date.
The WMS Time layer will display data that is relative to the selected time or date.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">range</span></code> mode displays a widget to select a time range. For a slider widget,
a slider with two thumbs is shown. For the datepicker widget, two datepicker
fields are displayed to select the start and end date.
In mode <code class="docutils literal notranslate"><span class="pre">range</span></code> the layer will display data that is relative to the defined range.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">disabled</span></code> mode hides the time widget. No time parameter will be sent
to the GetMap request in this case.</p>
</section>
<section id="admin-interface-query">
<h3>Admin interface - query<a class="headerlink" href="#admin-interface-query" title="Permalink to this heading">¶</a></h3>
<p>By setting a <code class="docutils literal notranslate"><span class="pre">timeAttribute</span></code> metadata having as value the attribute used in the OGS server as time item,
you ensure that the WMS/WFS queries take into account the time filtering values and that no result is
returned if an object is hidden by the time filter.</p>
</section>
</section>
<section id="merging-configurations">
<h2>Merging configurations<a class="headerlink" href="#merging-configurations" title="Permalink to this heading">¶</a></h2>
<p>The previous section describes the time configuration for a single layer.
However there could be multiple WMS Time layers in a group. In such a case, you
need to be aware of some limitations that apply to the configuration of the WMS
Time layers of the same group.</p>
<p>Some of those limitations apply to the mapfile:</p>
<ul class="simple">
<li><p>The WMS Time layers of a same group must all be configured with either a
list of discrete values or an interval. It is not possible to mix the two
different types of definition within the same group,</p></li>
<li><p>If the WMS Time layers of a group use the <code class="docutils literal notranslate"><span class="pre">min/max/interval</span></code>, they must   all use the same interval.</p></li>
</ul>
<p>There is also a limitation that applies to the admin interface: all the WMS Time
layers of a group should be configured to use the same widget and the same time mode
(<code class="docutils literal notranslate"><span class="pre">single</span></code> or <code class="docutils literal notranslate"><span class="pre">range</span></code>), except for layers with time mode <code class="docutils literal notranslate"><span class="pre">disabled</span></code>, which can be mixed within others.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/camptocamp.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../index.html">c2cgeoportal</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=camptocamp&repo=c2cgeoportal&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Administrator Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integrator/index.html">Integrator Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Guide</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Administrator Guide</a><ul>
      <li>Previous: <a href="tinyows.html" title="previous chapter">Transactional WFS with TinyOWS</a></li>
      <li>Next: <a href="../integrator/index.html" title="next chapter">Integrator Guide</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2011-2022, Camptocamp.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.2.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/administrator/wmstime.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/camptocamp/c2cgeoportal" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>