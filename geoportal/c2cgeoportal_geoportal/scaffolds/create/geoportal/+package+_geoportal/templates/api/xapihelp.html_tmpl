<!DOCTYPE HTML>
<html lang="${lang}">
<head>
    <meta charset="UTF-8">
    <title>XAPI description</title>
    <link rel="shortcut icon" type="image/x-icon" href="${request.static_url('{{package}}:static/images/favicon.ico')}">
    <style type="text/css">
        body {
            background: none repeat scroll 0 0 #EEEEEE;
            margin: 0;
            padding: 0;
            font-family: Helvetica,arial,freesans,clean,sans-serif;
        }
        #wrapper {
            width: 1220px;
            background: none repeat scroll 0 0 #FFFFFF;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
            margin: 0 auto;
            padding: 20px;
        }
        pre {
            border: 1px solid #ccc;
            box-shadow: 0 0 15px #ddd;
            -moz-box-shadow: 0 0 15px #ddd;
            -webkit-box-shadow: 0 0 15px #ddd;
            border-radius: 5px;
            margin-top: 0;
        }
        #wrapper pre {
            padding: 6px 10px;
        }
        .api pre {
            width: 560px;
        }
        .api .map, .api pre {
            display: inline-block;
            vertical-align: top;
        }
        .map {
            width: 600px;
            height: 400px;
        }
    </style>
    <link href="${request.static_url('{{package}}:static/apihelp/github.css')}" rel="stylesheet" type="text/css" media="screen">
    <script type="text/javascript" src="${(request.route_url('xapijs') + '?lang=%s%s') % (lang, '&debug' if debug else '')}"></script>
</head>
<body>
<div id="wrapper">
<h1>Extended API Help</h1>
<p>
This page describes how to use the <em>Extended API</em>. The Extended API
provides a JavaScript API for inserting maps with rich functionality to
web pages.
</p>
<p>
See the Simple API Help <a href="${request.route_url('apihelp')}">page</a>
for help on the <em>Simple API</em>.
</p>
<h2>Basis</h2>
<p>To use the API you should add the following HTML:</p>
<pre><code data-language="html">&lt;script src="${request.route_url('xapijs')}"&gt;&lt;/script&gt;
&lt;script&gt;
window.onload = function() {
    // add the code here
};
&lt;/script&gt;</code></pre>
<p>To put a new map in the page you'll have to put a <em>div</em> element with a
certain <em>id</em> where you want your map to be:
<pre><code data-language="html">&lt;div id='map1' style='width:700px;height:400px;'&gt;&lt;/div&gt;</code></pre>

<div class="api">
    <h2>A map</h2>
    <div id='map1' class="map"></div>
    <pre data-language="javascript">var map = new {{package}}.Map({
    div: 'map1', // id of the div element to put the map in
    zoom: 8,
    center: [544500, 210100]
});</pre>
</div>
</div>

    <script type="text/javascript">
        var apis = document.getElementsByTagName('pre');
        for (var i = 0; i < apis.length; i++) {
            var language = apis[i].attributes.getNamedItem('data-language');
            if (language && language.nodeValue == 'javascript') {
                eval(apis[i].innerHTML)
            }
        }
        if (navigator.appName != 'Microsoft Internet Explorer' ||
                parseFloat(
                    navigator.appVersion.match(/MSIE ([\d.]+)/)[1]
                ) >= 9.0) {
            // just for code examples coloration
            document.write('<scri' + 'pt type="text/javascript" ' +
                'src="${request.static_url('{{package}}:static/apihelp/rainbow-custom.min.js')}"></sc' + 'ript>');
        }
    </script>
</body>
</html>
